# GKE 成本优化方案 - 社区高票答案整理（选项 C）

---

### 🧠 jabrrJ68w02ond1 （高票，2 年 7 个月前）
**选择的答案：C**

- A：不是必须的，因为你可以拥有多个配置不同的节点池。
- B：可以优化 CPU/内存的资源使用，但不一定能改善成本 —— 不过仍然是值得考虑的选项。
- C：这个看起来非常好。对工作负载和节点池进行自动扩缩，使整个基础设施更加弹性，并且可以依赖于同一个节点池。
- D：不适合所有类型的工作负载。批处理和无状态工作负载通常可以很好地处理这种情况，但有状态工作负载则不太适合运行在可抢占 VM 上。

🔘 **因为只接受一个答案，我选择 C。**

👍 点赞数：15

---

### 🧠 ramzez4815 （高票，2 年 7 个月前）
**选择的答案：C**

- C 是正确答案，因为它不涉及对当前 Kubernetes 配置的重大更改。

👍 点赞数：8

---

### 🧠 frank_tsai_tech （最新，2 周前）
**选择的答案：C**

**正确答案是 C：**  
为所有无状态工作负载和所有兼容的有状态工作负载配置 HorizontalPodAutoscaler，为集群配置节点自动扩缩。

**解释：**  
通过实施 Horizontal Pod Autoscaler（HPA），集群可以根据当前需求自动调整 Pod 副本数。配合节点自动扩缩，GKE 集群可以根据整体使用率自动添加或移除节点。这意味着在负载低的时期，集群可以缩容 —— 减少节点数，从而降低成本 —— 同时仍能维持处理高峰负载所需的容量，不会影响可用性。这种方式可以优化整个集群的资源使用，使其对混合型工作负载而言更具成本效益。

👍 点赞数：1

---

### 🧠 MarcoPellegrino （5 个月前）
- 它使用了 Google 的特性。

👍 点赞数：1

---

### 🧠 Gino17m （11 个月前）
**选择的答案：C**

- 投票支持 C。因为 B 的限制可能会影响可用性。

👍 点赞数：1

---

### 🧠 AugustoKras011111 （2 年 1 个月前）
**选择的答案：C**

- 答案是 C，使用 HorizontalPodAutoscaler。

👍 点赞数：1

---

### 🧠 zerg0 （2 年 2 个月前）
**选择的答案：C**

- HorizontalPodAutoscaler 是正确的选择。

👍 点赞数：1

---

### 🧠 tdotcat （2 年 2 个月前）
**选择的答案：C**

- C 很好。

👍 点赞数：1

---

### 🧠 omermahgoub （2 年 3 个月前）
**正确答案是 C：**  
为所有无状态工作负载和所有兼容的有状态工作负载配置 HorizontalPodAutoscaler。为集群配置节点自动扩缩。

**解释如下：**
  
降低 Google Kubernetes Engine（GKE）集群成本而不影响可用性的方式之一是使用 HPA 和节点自动扩缩。
  
HPA 允许你根据 Pod 的资源使用情况自动调整 Deployment 中 Pod 的数量。通过为无状态和兼容的有状态工作负载配置 HPA，可以根据实际资源使用情况自动调整 Pod 数量，从而有助于降低成本。
  
节点自动扩缩允许你根据集群资源使用情况自动添加或移除节点。通过配置节点自动扩缩，可以确保集群只保留满足工作负载资源需求所需的最少节点数，这也有助于降低成本。

👍 点赞数：5

---

### 🧠 omermahgoub （继续说明）

- A：为批处理工作负载创建第二个 GKE 集群，并将原来的 200 个节点在两个集群间分配，不一定能降低成本，因为总节点数没有减少。
- B：为集群中的命名空间配置 CPU 和内存限制，并为所有 Pod 设置资源限制可能有助于降低成本，但仅凭这一点还不够。还应该结合 HPA 和节点自动扩缩。
- D：将节点池更改为使用可抢占 VM 可能有助于降低成本，但单靠这一点也不够。因为可抢占 VM 随时可能被终止，这可能不适用于所有工作负载。仍然需要结合使用 HPA 和节点自动扩缩。

👍 点赞数：3

---

### 🧠 ale_brd_111 （2 年 3 个月前）
**选择的答案：C**

- C 是正确答案，因为它不涉及对现有 Kubernetes 配置的重大更改。

👍 点赞数：
