### 讨论记录整理（关于 GCP 数据流处理）

---

**jcmoranp（高票，5 年前 5 个月）**    
Pub/Sub 更合适，对于 BigQuery 来说数据流太大了。  
👍 41

---

**alexspam88（3 年前 9 个月）**    
对 Pub/Sub 来说也太多了    
https://cloud.google.com/pubsub/quotas  
👍 4

---

**Bill831231（3 年前 6 个月）**    
感谢分享链接，不过看起来 Pub/Sub 能处理的数据流比 BigQuery 多。    
Pub/Sub 在大型区域是每分钟 120,000,000 KB（即 2 GB/s），而 BigQuery 是 1 GB/s。  
👍 7

---

**JoeShmoe（高票，5 年前 4 个月）**    
答案是 B，数据量超过了 BigQuery 的流处理限制。  
👍 20

---

**user263263（最近，2 个月 1 周前）**    
选定答案：D    
我认为这个问题的答案已经过时。参考：https://cloud.google.com/architecture/connected-devices    
正确答案应该是 “MQTT Broker” 或 “IoT Platform”。    
Google 推荐仅在设备数量为“几百”的情况下才使用 “直接写入 Pub/Sub”。  
👍 1

---

**VegasDegenerate（9 个月 1 周前）**    
必须是 Pub/Sub，你在远程车辆中，需要确保消息传递。  
👍 1

---

**the1dv（1 年前）**    
哇，Google Cloud 不该下线他们的 IoT Core 产品——你不能 “直接写入 Pub/Sub”。    
虽然这是正确答案，但过于简化。    
直接写入 GCS 会在 GET 请求中产生巨额开销。  
👍 2

---

**Vesta1807（1 年 3 个月前）**    
选定答案：C    
流式数据在插入表后几秒即可进行实时分析。    
你可以通过 tabledata().insertAll() 方法将数据一条条地流式传入 BigQuery，而不需要运行加载作业。    
参考链接：https://cloud.google.com/bigquery/streaming-data-into-bigquery  
👍 1

---

**MahAli（1 年 4 个月前）**    
选定答案：A    
他们是通过 FTP 发送文件的，为什么大家都忽略了这一点？    
我记得 Pub/Sub 的最大消息大小是 10MB。    
我会保留文件方案，并尝试推动更新，将上传直接转向 GCS。  
👍 5

---

**BiddlyBdoyng（1 年 9 个月前）**    
很多人指出这违反了 BigQuery 的配额限制，但很少有人指出它也违反了 Pub/Sub 的配额限制。    
所以答案要么不受配额限制（那为何不选 BigQuery？），要么两个都错，那就继续用 FTP。  
👍 1

---

**kapara（1 年 10 个月前）**    
选定答案：B    
就是 B。  
👍 1

---

**nunopires2001（2 年 2 个月前）**    
我知道是 B，不过这些传感器可能是遗留系统，无法与 Pub/Sub 队列通信。    
忽视改造或适配 2000 万台设备的难度是个错误。  
👍 3

---

**omermahgoub（2 年 3 个月前）**    
为处理 TerramEarth 计划接收的大量数据，推荐使用可扩展且可靠的数据接收解决方案，例如 Google Cloud Pub/Sub。    
车辆可以直接将数据流传输到该服务，Pub/Sub 可以处理大量数据，并在流量突然增加时提供缓冲。    
然后数据可以在数据仓库中（例如 BigQuery）进行分析。  
  
选项 A（直接写入 GCS）不适合处理实时大流量数据，可能会导致数据丢失。    
选项 C（直接流式写入 BigQuery）也不适合实时处理高流量，可能导致数据丢失或写入延迟。    
选项 D（继续使用现有系统）也不适合，因为现有系统可能无法处理增加的数据量，可能导致数据丢失或写入延迟。  
👍 11

---

**sank8（2 年 3 个月前）**    
正确，谢谢解释。  
👍 1

---

**surajkrishnamurthy（2 年 3 个月前）**    
选定答案：B    
B 是正确答案。  
👍 1

---

**megumin（2 年 5 个月前）**    
选定答案：B    
好的，选 B。  
👍 1

---

**Mahmoud_E（2 年 5 个月前）**    
选定答案：B    
B 是正确答案，在 Google 的简单问题集中也有类似的问题。  
👍 1

---

**AzureDP900（2 年 9 个月前）**    
B 是正确的！  
👍 2

---

**cdcollector（2 年 9 个月前）**    
应该是 A——见下一个问题，关于 80% 的蜂窝连接和使用 Avro 格式文件直接流向 GCS。  
👍 2

---

**amxexam（2 年 11 个月前）**    
选定答案：B    
我们需要缓冲，BigQuery 的默认限制是每秒 100 个 API 调用，目前不能更改。    
因此我们应该使用 Pub/Sub 来缓解负载，选 B。  
👍 2
