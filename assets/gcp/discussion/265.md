# Dress4Win 云迁移实例规格讨论
  
  ---
  
  ## MyPractice（高赞） · 4年前9个月前
  
  - **A - 不正确**：因为讨论的是物理服务器大小。
  - **B - 不正确**：因为讨论的是最大规格。
  - **C - 不正确**：因为讨论的是最小规格。
  - **D - 正确**：推荐根据本地应用程序 VM 的大小进行映射。
  
  👍 赞同：41次
  
  ---
  
  ## Smart · 4年前7个月前
    
  同意。从应用程序可以高效运行的最小尺寸开始，是最佳实践。这应基于以往使用情况的最佳估计，因此要密切监控并进行纵向和横向扩展。
  
  👍 赞同：3次
  
  ---
  
  ## Ziegler · 4年前4个月前
    
  如果本地工作负载被过度配置了呢？那应该选 C 才是正确答案。
  
  👍 赞同：4次
  
  ---
  
  ## JMSTP · 2年前11个月前
    
  同意，但困惑的是问题说他们先迁移测试/开发环境，而 C 说的是“进入生产”。如果他们是为了省钱，应该从小开始，直到满足性能需求为止。测试/开发通常可以容忍这些增量变化。
  
  👍 赞同：2次
  
  ---
  
  ## Rafaa · 4年前4个月前
    
  他们有扩展性问题，因此决定迁移到 GCP。
  
  👍 赞同：3次
  
  ---
  
  ## rottzy · 3年前
    
  此外，削减成本是迁移到云的主要原因之一。
  
  👍 赞同：2次
  
  ---
  
  ## jcmoranp（高赞） · 4年前11个月前
    
  是 D。你可以监控机器，直到需要时进行扩展。
  
  👍 赞同：25次
  
  ---
  
  ## techalik · 3年前10个月前
    
  我认为是 D：
    
  从最小实例开始，然后扩展到更大的机器类型，直到性能达到所需标准，这是正确的做法。
    
  继续上面的解释，尽管你可以使用预定义的机器类型，比如 e2-highmem-4/n2-highmem-4/n2d-highmem-4 等，如果你需要 4 个 vCPU 和 32GB 内存，但不能保证它在 GCP 上的性能与数据中心现有 VM 类似。网络结构不同、磁盘 I/O 不同、CPU 也不同。我们不知道数据中心 CPU 的确切规格，无法与 GCP 的处理器做类比。你可能会发现迁移到 Google Cloud 后需要更多或更少的 vCPU，但在迁移并测试之前，无法确定最佳的机器类型。因此推荐从小开始，根据需要增加实例大小，直到性能达到可接受标准，那就是你的机器类型。
  
  👍 赞同：3次
  
  ---
  
  ## techalik（补充） · 3年前10个月前
    
  我是说 C :) 上面的解释是针对 C 的。
  
  👍 赞同：3次
  
  ---
  
  ## nitinz · 3年前7个月前
    
  C 是最好的答案。这就是云的优势。你可以只需关闭实例就更改机器类型。另外，Google 也不推荐使用自定义 VM 尺寸。
  
  👍 赞同：2次
  
  ---
  
  ## Pankonics · 3年前9个月前
    
  C 是正确的。在 D 选项中，它提到了虚拟核心数和 RAM，但案例中并未提到这些。这个选项只是试图混淆选项组合。所以我选择 C。
  
  👍 赞同：1次
  
  ---
  
  ## chiar · 4年前10个月前
    
  记住，在 GCP 中，VM 的 CPU、RAM 和磁盘是为优化性能而设计的，我认为 C 是最好的。
  
  👍 赞同：3次
  
  ---
  
  ## MyPractice · 4年前9个月前
    
  最小实例可用的是 1CPU 和 128MB RAM —— 这足够用于生产运行吗？（假设当前在本地运行的是 24CPU 和 128GB RAM）
  
  👍 赞同：5次
  
  ---
  
  ## Rathish · 4年前4个月前
    
  我认为，只有开发和测试环境是最先迁移的，在这种情况下，我更愿意从最小可用实例开始。—— 动态可扩展性正是我们迁移到云的原因。
  
  👍 赞同：2次
  
  ---
  
  ## kk4gcp · 3年前7个月前
    
  但选项 C 说的是 - C. 推荐 Dress4Win 部署到生产环境 —— 他们在说生产环境 —— 所以 D 是正确的。
  
  👍 赞同：2次
  
  ---
  
  ## user263263（最近） · 2个月前1周前
  
  **选择的答案：D**
    
  最好的方案是“使用适合应用程序服务器的小型机器类型，使用 MIG 和自动扩展”，但选项中没有这个答案。
  
  - **B - 否**：传统应用服务器是 4 CPU，32 GB（1 CPU : 8 GB），而高内存机器类型是 1 CPU : 30 GB（例如 m3-ultramem-32）。
  - **C - 否**：最小实例太小，不能作为应用服务器。
  - **A 或 D - 看情况**：关键在于“本地环境是虚拟化的吗？”案例中“存储设备”部分提到“iSCSI 用于 VM 主机”。如果这适用于应用服务器，那么正确答案就是 D。
  
  👍 赞同：1次
  
  ---
  
  ## bigzero · 5个月前
    
  选项 A    
  D 是在迁移完成并进入生产环境之后可以做的事。    
  迁移前，你只能做选项 A。
  
  👍 赞同：1次
  
  ---
  
  ## hynglly · 9个月1周前
  
  **选择的答案：D**
    
  是 D。
  
  👍 赞同：1次
  
  ---
  
  ## MahAli · 10个月前
  
  **选择的答案：A**
    
  案例中提到的应用服务器，并不代表是虚拟机，除了自定义类型在 GCP 中比预定义类型更贵之外，没有提到本地使用虚拟机。我将把它们的物理服务器映射到最接近的机器类型。
  
  👍 赞同：3次
  
  ---
  
  ## luke19962023 · 1年5个月前
  
  **选择的答案：D**
    
  由于他们当前环境中有虚拟机，我会选择 D。这可以让你按一比一的方式替代本地部署，然后再扩展。
    
  我最初以为是 A，但使用自定义机器映像可以防止你为运行不必要的大机器映像付费。
  
  👍 赞同：1次
  
  ---
  
  ## taer · 1年6个月前
  
  **选择的答案：D**
    
  通过识别应用服务器虚拟机相关的虚拟核心数和 RAM，并将它们与云中的自定义机器类型对齐，你可以创建一个专为 Dress4Win 特定需求定制的环境。监控性能并相应调整机器类型，确保基础设施在性能和成本方面都得到优化。
  
  👍 赞同：1次
  
  ---
  
  ## BeCalm · 1年7个月前
  
  **选择的答案：A**
    
  D 是一个逐步寻找正确规格的方法，这在现实生活中并不是实际操作方式。
  
  👍 赞同：1次
  
  ---
  
  ## stevehlw · 1年10个月前
    
  如果正确答案是 C 我会真的很惊讶。    
  将最小实例部署到生产环境很可能会触发大量错误消息。    
  如果你的虚拟机配置过大，只需缩小即可。
  
  👍 赞同：2次
  
  ---
  
  ## jabrrJ68w02ond1 · 1年11个月前
  
  **重要**：Dress4Win 不再是官方列出的案例研究之一：https://cloud.google.com/certification/guides/professional-cloud-architect
  
  👍 赞同：5次
  
  ---
  
  ## AhmedH7793 · 2年前
  
  **选择的答案：D**
    
  是 D。
  
  👍 赞同：1次
  
  ---
  
  ## ShadowLord · 2年前
  
  **选择的答案：A**
    
  https://cloud.google.com/migrate/compute-engine/docs/4.9/concepts/planning-a-migration/cloud-instance-rightsizing
    
  1. 基于性能的推荐：根据本地 VM 当前分配的 CPU 和 RAM 推荐 Compute Engine 实例。这是默认推荐方式。
  
  👍 赞同：5次
  
  ---
  
  ## AlizCert · 1年4个月前
    
  我同意这种思路，但 A 是针对托管本地 VM 的**物理**硬件，不是针对 VM 需求，所以应该选 D。
  
  👍 赞同：1次
  
  ---
  
  ## [已删除] · 2年6个月前
    
  A 更好。
    
  https://cloud.google.com/architecture/resource-mappings-from-on-premises-hardware-to-gcp
  
  👍 赞同：3次
  
  ---
  
  ## Matalf · 2年2个月前
    
  资源映射：“在你的应用运行在裸机上的情况下”
    
  规格推荐：“将虚拟机迁移到 Compute Engine”
  
  👍 赞同：1次
  
  ---
  
  ## OrangeTiger · 2年9个月前
  
  **选择的答案：D**
    
  我投 D。    
  https://cloud.google.com/migrate/compute-engine/docs/4.9/concepts/planning-a-migration/cloud-instance-rightsizing
  
  👍 赞同：2次
  
  ---
  
  ## MF2C · 2年9个月前
  
  **选择的答案：D**
    
  投 D。
  
  👍 赞同：1次
  
  ---
  
  ## atlasga · 2年9个月前
    
  哇，这些答案太离谱了，我忍不住评论一下，以免新手误以为这就是现实世界的操作方式。    
  你不应该一比一映射大小，也不应该从最小实例开始。    
  行业最佳实践是基于实际使用情况进行规格调整。    
  我如果遇到这个问题，可能会选 C，因为它比从大实例开始便宜（但如果实例过小，会造成生产运行问题！）。
  
  👍 赞同：2次
  
  ---
  
  ## theBestStudent · 10个月1周前
    
  但你不希望因规格错误导致生产问题。所以我认为不应该选 C。主要原则是要避免生产问题。
  
  👍 赞同：1次
  