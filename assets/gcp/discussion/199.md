### 用户评论

#### JamesKarianis 高票回答 7个月，2周前
**选择答案：C**    
更改过滤器为 `metric.label.state = 'used'`。当前的过滤器设置了多个 AND 条件，这意味着它正在查找同时具有以下状态的指标：'used'、'buffered'、'cached' 和 'slab'。这是逻辑上不可能的，因为一个内存位置不能同时处于多个状态。因此，过滤器永远无法匹配任何指标，自动扩展策略也不会触发。    
点赞 9 次

#### Nick89GR 高票回答 5个月，2周前  
我有点困惑，因为这个问题和第190题的答案相矛盾。有人知道真正的答案是什么吗？我本来期待的是 'used' + 'buffered' + 'cached' + 'slab'，意味着这些的总和。    
点赞 9 次

#### Piddi 2周前  
是的，这确实很困惑。我使用了 Claude.ai 来澄清我的疑虑。
- 通过监控 `metric.label.state = 'free'` 内存，你在跟踪可用内存而不是已用内存。
- 将目标设置为 20% 意味着当可用内存降到 20% 以下时，自动扩展将触发（相当于总使用量超过 80%）。
- 这种方法准确捕捉了所有内存使用情况，而不管它如何被系统利用。    
点赞 1 次

#### frank_tsai_tech 最近回答 3周，1天前
**选择答案：C**  
**解释：**  
- **当前过滤器的问题：**    
你配置的过滤器使用多个条件与 AND 运算符来查找状态（'used'、'buffered'、'cached'、'slab'）。然而，Cloud Monitoring 代理报告的每个时间序列只包含一个状态标签值。这意味着没有任何数据点可以同时满足所有这些条件。
- **更正过滤器：**    
为了准确监控总内存使用情况，你应该仅关注“used”内存状态。将过滤器更改为仅 `metric.label.state = 'used'`，确保自动扩展器正确评估实际的已用内存百分比。一旦已用内存超过目标（80%），自动扩展器将触发扩展。
  
因此，按照选项 C 修改过滤器可以解决问题。    
点赞 2 次

#### JaquiMB 3个月，1周前
**选择答案：C**    
基于内存使用量的自动扩展    
要配置基于已用内存百分比的自动扩展，指定内存 Ops Agent 指标提供的 `percent_used` 指标。你应该通过状态过滤该指标，只使用已用内存状态。如果不指定过滤器，自动扩展器将取所有标记为 `buffered`、`cached`、`free`、`slab` 和 `used` 的内存状态的内存使用总和。    
点赞 3 次

#### tangac 7个月，2周前
**选择答案：C**    
正如公共文档中明确指出的 [文档链接](https://cloud.google.com/compute/docs/autoscaler/scaling-cloud-monitoring-metrics#gcloud_5)，你需要将过滤器更改为 `metric.label.state="used"`。    
点赞 9 次
