# 问题讨论

## 考试 投票率高 3 年零 7 个月前
让我们选择排除选项：
- **A**. 登录到服务器，并在本地迭代修复 >> 耗时较长，因此排除。
- **B**. 还原源代码更改并重新运行部署管道 >> 此还原将记录在源存储库中。我们将采用这种方式，尽管 D 也是正确的。
- **C**. 登录到包含错误代码更改的服务器，并换入之前的代码 >> C 手动执行 B 和 C 可以自动完成的操作，因此排除。
- **D**. 将实例组模板更改为之前的模板并删除所有实例 >> 这与 B 类似，但为什么要手动执行自动化操作呢？因此排除。

但这也是正确的。但从代码生命周期的角度来看，B 更好。因此 **B**。

## ashishdwi007 1 年 2 个月前
这个问题本身看起来像是编造的，并非真实场景……

> “您创建了一个管道，可以将源代码更改部署到实例组中的基础架构中进行自我修复。其中一个更改对您的关键绩效指标 (KPI) 产生了负面影响。” 自我修复代码如何影响 KPI？KPI 是什么？我们不知道。自我修复完成了吗？我们也不知道。  
> 不知道是谁提出这个问题的。即使我们按照他们想问的去做，在有选项的情况下，B 是最安全的。然而，这个选项只是对任何故障排除步骤的答案。我对提出这个问题的人并不信服。

**已赞3次**

## 埃弗雷德特里吉 投票率高 4 年零 8 个月前
太多回复说答案是 B——我怀疑 GCP 是不是花钱雇人在这个网站上提供错误答案。答案显然是 **D**，MIG 模板支持版本控制，它们就是为了解决这个问题而创建的。你只需选择之前的模板版本，将其设置为新的部署，它就会回滚 KPI 缺失的部署，并恢复之前正常运行的部署。  
DI 唯一不喜欢的部分是“终止所有实例”，因为你应该进行滚动部署，但如果网站不是实时运行的，我想这个应该没问题。  
[参考链接](https://cloud.google.com/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups)

**已赞62次**

## mexblood1 4 年 5 个月前
如果您可以将源代码更改部署到实例组中的基础架构以实现自我修复，则意味着您未使用“管理实例组”。否则，您将创建一个包含代码更改的新模板。此外，您无需删除 MIG 上的实例，而是使用 `maxsurge`、`maxunavailable` 等可控方式重新部署之前的模板。因此，我选择 **B**。

**已点赞21次**

## 阿米塔尔 2 年零 10 个月前
**B**. 关键词是“自我修复”而不是“自动修复”——这意味着未使用 MIG。所以正确答案是 **B**。

**已赞2次**

## Bill831231 3 年零 5 个月前
似乎与方法有关，管道会不匹配。

**已赞4次**

## 梅尤乔 3 年零 2 个月前
如果手动更改模板……为什么还要使用管道？**B** 是最好的答案，因为它是自动化的！！！谷歌为什么会对错误答案感兴趣？他们想要更多拥有 GCP 认证的专业人士！！！！

**已赞7次**

## Davidik79 3年前
“……其中一项变更对您的 PKI 产生了负面影响”。为什么这个问题与管道有关？它关乎如何进行调查，并确保您的 PKI 符合适当的 SLA/SLO。

**已赞1次**

## 用户263263 最近的 2 个月 1 周前
所选答案：**B**  
如果您有一个需要部署的流水线，手动更改部署是一种反模式——它会导致仓库中的代码与实际运行的代码不一致。修复前进版本不是一种选择（“调查可能需要一周时间”），因此恢复源代码更改是唯一的选择。

**已赞1次**

## 埃克拉米·埃尔纳加尔 4 个月 3 周前
所选答案：**B**  
1. 最快的恢复路径：恢复导致性能下降的代码更改是将关键绩效指标 (KPI) 恢复到先前水平的最快方法。您的管道旨在实现部署自动化，因此重新部署已知良好的版本应该非常简单。  
2. 最大限度地减少停机时间：虽然调查问题很重要，但这可能需要一些时间。首先恢复可以最大限度地缩短对 KPI 的负面影响的持续时间。  
3. 干净且受控：此方法避免直接在服务器上进行临时更改（选项 A 和 C），这可能会导致不一致并使追踪问题根源变得更加困难。  
4. 维护实例组完整性：选项 D 涉及删除实例，这可能会中断服务并导致不必要的资源重新创建。

**已赞2次**

## sim7243 4 个月 4 周前
选项 **B**

**已赞1次**

## dija123 1年前
所选答案：**B**  
同意 **B**

**已赞1次**

## 利萨比萨 1 年 1 个月前
**D** 是基础设施变更。**B** 是应用程序变更。因此 **B** 是正确的。

**已赞3次**

## kip21 1 年 2 个月前
**D** 这个问题是关于 MIG 的，你可以像 **B** 一样恢复 Inst Template。因为这是关于 MIG 的，所以我会选择 **D**。

**已赞1次**

## 收养 1 年 3 个月前
所选答案：**D**  
**D**.这是一个关于实例组的问题，因此修改模板应该是我们所寻找的。

**已赞1次**

## simiramis221 1 年 3 个月前
这肯定是 **B**

**已赞1次**

## 阿迪亚·古普塔 1 年零 6 个月前
所选答案：**B**  
弹出源代码更改窗口，因此还原更改并部署即可解决问题。**B**. 还原源代码更改，然后重新运行部署流水线

**已赞2次**

## 益力沙 1 年零 6 个月前
**D** 不正确：
- MIG 实例组模板不可变，没有版本概念。上下文从未提及团队创建了多个实例组模板。
- 软件代码更改可能不会全部最终出现在实例组模板中，这取决于部署流水线的配置方式。无论如何，**B** 是最佳实践，确保您的基础架构与源代码控制系统同步。

**已赞1次**

## 拉塞尔 1 年零 6 个月前
所选答案：**D**  
您不需要触碰您的代码，只需部署旧版本并修复代码，然后部署修复后的版本

**已赞2次**

## 贾尔贝托 1 年 7 个月前
所选答案：**D**  
最安全的选项是 **D** 恢复源代码更改可能很复杂（如果在各个组件中都进行了更改）

**已赞2次**

## 克里斯马尔 1 年零 9 个月前
所选答案：**B**  
因为问题从源代码开始

**已赞2次**

## oriori123123 1 年 10 个月前
所选答案：**B**  
作者：bard：正确答案是 **B**。恢复源代码更改，然后重新运行部署管道。

**已赞1次**

## 疾速追杀2020 1 年 10 个月前
**B**. 这里的关键词是源代码，而不是虚拟机配置。如果是后者，那么实例组模板就是答案。但在这种情况下，只需回滚源代码更改并重新运行到最后一个可运行的版本即可。就这么简单！

**已赞2次**
